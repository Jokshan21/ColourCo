<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Voice Reader</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #222;
      color: #fff;
    }
    #fixedText {
      background: #333;
      padding: 1rem;
      border-radius: 8px;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    button {
      margin: 0.5rem 1rem 0.5rem 0;
      padding: 1rem;
      font-size: 1rem;
      background-color: #00bfa5;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button.pause { background-color: #fbc02d; }
    button.resume { background-color: #1976d2; }
    button.stop { background-color: #d32f2f; }
  </style>
</head>
<body>
  <h1>Voice Reader</h1>

  <div id="Product Description">
    <strong id="headingText">Text to Voice.</strong>
    <p id="bodyText"><br/>
 ColourCo WeatherPro is a tough, durable exterior coating with Maxiflex that provides lasting elasticity against hairline cracks
<br/>

Application Description.
<br/>
Brush or roller
<br/>
Health & Safety.
<br/>
Keep out of reach of children.
Ensure good ventilation during application and drying.
Non-flammable
<br/>
Tips & Advice.
<br/>
1. Preparing the Surfaces
Suitable for cement plaster, gypsum plaster, concrete, fibre cement
ceiling boards, PVC and metal surfaces provided that appropriate
preparation is carried out.
2. Cleaning
Clean immediately with water
<br/>
Key information
<br/>
Textured, Matt finish
<br/>
coverage is Approximately 4 to 6 m¬≤ per litre per coat
<br/>
2 coats recommended
<br/>
Drying Time is 1 hour
<br/>
Product Features.
<br/>
Flexible paint film.
Hides imperfections.
Long lasting protection.
WeatherPro.
Guarantee 15 years.
</p>
  </div>

  <button onclick="readText()">üîä Read Aloud</button>
  <button class="pause" onclick="pauseReading()">‚è∏Ô∏è Pause</button>
  <button class="resume" onclick="resumeReading()">‚ñ∂Ô∏è Resume</button>
  <button class="stop" onclick="stopReading()">üõë Stop</button>

  <script>
    let voices = [];
    let queue = []; // Queue of utterances
    let isPaused = false;

    function loadVoices() {
      voices = speechSynthesis.getVoices();
      if (voices.length === 0) {
        setTimeout(loadVoices, 100);
      }
    }

    loadVoices();
    speechSynthesis.onvoiceschanged = loadVoices;

    function readText() {
      stopReading(); // Cancel any ongoing speech

      const heading = document.getElementById('headingText').innerText + '.';
      const body = document.getElementById('bodyText').innerText;

      const headingUtterance = new SpeechSynthesisUtterance(heading);
      const bodyUtterance = new SpeechSynthesisUtterance(body);

      headingUtterance.rate = 0.9;
      bodyUtterance.rate = 0.9;

      const femaleVoice = voices.find(voice =>
        voice.name.includes("Google US English") ||
        (voice.lang === "en-US" && voice.name.toLowerCase().includes("female"))
      );

      if (femaleVoice) {
        headingUtterance.voice = femaleVoice;
        bodyUtterance.voice = femaleVoice;
      }

      queue = [headingUtterance, bodyUtterance];

      speakNext(); // Start reading
    }

    function speakNext() {
      if (queue.length === 0) return;

      const next = queue.shift();
      speechSynthesis.speak(next);

      next.onend = () => {
        // Delay next part to simulate pause between heading/body
        setTimeout(() => {
          speakNext();
        }, 500);
      };
    }

    function pauseReading() {
      if (speechSynthesis.speaking && !speechSynthesis.paused) {
        speechSynthesis.pause();
        isPaused = true;
      }
    }

    function resumeReading() {
      if (speechSynthesis.paused) {
        speechSynthesis.resume();
        isPaused = false;
      }
    }

    function stopReading() {
      speechSynthesis.cancel();
      queue = [];
      isPaused = false;
    }
  </script>
</body>
</html>
